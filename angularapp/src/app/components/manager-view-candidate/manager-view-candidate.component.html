<!-- <app-manager-navbar></app-manager-navbar>

<div class="container mt-4">

    <div *ngIf="candidates" class="card shadow">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Candidate Details</h5>
      </div>
      <div class="card-body">
        <p><strong>Name:</strong> {{ candidate.name }}</p>
        <p><strong>Email:</strong> {{ candidate.email }}</p>
        <p><strong>Experience:</strong> {{ candidate.experience }} years</p>
        <p><strong>Skills:</strong> {{ candidate.skills.join(', ') }}</p>
        <p><strong>Status:{{ can }}</strong>
          <span class="badge"
            [ngClass]="{
              'bg-success': candidate.status === 'Accepted',
              'bg-danger': candidate.status === 'Rejected',
              'bg-secondary': candidate.status !== 'Accepted' && candidate.status !== 'Rejected'
            }">
            {{ candidate.status }}
          </span>
        </p>
  
        <div class="mt-3">
          <button class="btn btn-success me-2" (click)="updateStatus('Accepted')"
            [disabled]="candidate.status === 'Accepted'">Accept</button>
          <button class="btn btn-danger" (click)="updateStatus('Rejected')"
            [disabled]="candidate.status === 'Rejected'">Reject</button>
        </div>
      </div>
    </div>
  </div>
  
   -->

   <!-- Manager Navbar -->
<app-manager-navbar></app-manager-navbar>

<!-- View Candidates Container -->
<div class="container mt-5">
    <h2 class="text-center">Manage Candidates</h2>

    <!-- Search Bar -->
    <div class="mb-3 w-50">
        <input type="text" class="form-control" placeholder="Search candidates..." [(ngModel)]="searchTerm"
            (input)="filterCandidates()">
    </div>

    <!-- Candidates Table -->
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>S.No</th>
                <th>Name</th>
                <th>Email</th>
                <th>Tech Stack</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let candidate of filteredCandidates; let i = index">
                <td>{{ i + 1 }}</td>
                <td>{{ candidate.name }}</td>
                <td>{{ candidate.email }}</td>
                <td>{{ candidate.techStack }}</td>
                <td>
                    {{ candidate.status }}
                    <button class="btn btn-sm" 
                        [ngClass]="{'btn-success': candidate.status === 'Inactive', 'btn-secondary': candidate.status === 'Active'}" 
                        (click)="toggleStatus(candidate)">
                        {{ candidate.status === 'Active' ? 'Mark as Inactive' : 'Mark as Active' }}
                    </button>
                </td>
                <td>
                    <button class="btn btn-warning btn-sm me-2" [routerLink]="['/manager/edit-candidate', candidate._id]">Edit</button>
                    <button class="btn btn-danger btn-sm">Delete</button>
                </td>
            </tr>
            <tr *ngIf="filteredCandidates.length === 0">
                <td colspan="6" class="text-center text-danger fw-bold">Oops! No candidates found.</td>
            </tr>
        </tbody>
    </table>
</div>
