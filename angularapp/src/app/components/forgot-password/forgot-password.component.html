<app-navbar></app-navbar>

<div class="container d-flex justify-content-center align-items-center py-5 min-vh-100">
    <div class="card shadow p-4 rounded-4" style="width: 90%; max-width: 900px;">

        <div class="row g-0">
            <!-- Left Side - Illustration (50%) -->
            <div class="col-md-6 d-flex align-items-center justify-content-center p-4">
                <div class="illustration-container">
                    <img src="https://img.freepik.com/free-vector/forgot-password-concept-illustration_114360-1123.jpg" 
                         alt="Forgot password illustration" 
                         class="img-fluid"
                         style="max-height: 350px;">
                </div>
            </div>

            <!-- Right Side - Form (50%) -->
            <div class="col-md-6 d-flex align-items-center">
                <div class="card-body text-center p-4">
                    <div class="form-container">
                        <h2 class="mb-4">Forgot Password</h2>
                        <p class="text-muted mb-4">Enter your email to receive a password reset link</p>

                        <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
                            <div class="form-group mb-3 text-start">
                                <label for="email" class="form-label">Email Address</label>
                                <input
                                    type="email"
                                    id="email"
                                    formControlName="email"
                                    class="form-control form-control-lg"
                                    [ngClass]="{ 'is-invalid': f.email.invalid && (f.email.dirty || f.email.touched || isSubmitted) }"
                                    placeholder="Enter your registered email"
                                >
                                <div *ngIf="f.email.errors && (f.email.dirty || f.email.touched || isSubmitted)" class="invalid-feedback text-start">
                                    <div *ngIf="f.email.errors['required']">Email is required</div>
                                    <div *ngIf="f.email.errors['email']">Please enter a valid email</div>
                                </div>
                            </div>

                            <div class="form-group mb-3">
                                <button type="submit" class="btn btn-primary btn-lg w-100 py-2">
                                    Send Reset Link
                                </button>
                            </div>
                        </form>

                        <div class="text-center mt-3">
                            <a routerLink="/login" class="text-decoration-none">Back to Login</a>
                        </div>

                        <!-- Feedback Messages -->
                        <div *ngIf="message" class="alert alert-success mt-3">
                            <i class="bi bi-check-circle me-2"></i> {{ message }}
                        </div>
                        <div *ngIf="error" class="alert alert-danger mt-3">
                            <i class="bi bi-exclamation-triangle me-2"></i> {{ error }}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>